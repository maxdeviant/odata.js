var OData=function(){"use strict";var t=[],n="",o=[],r="asc",e=0,i=0,p="allpages",u=[],s=[],c=[],a="json",f=function(){};f.prototype.url=function(t){return n=t,this},f.prototype.orderby=function(t){return o.push(t),l("$orderby"),this},f.prototype.ascending=function(){return r="asc",this},f.prototype.asc=f.prototype.ascending,f.prototype.descending=function(){return r="desc",this},f.prototype.desc=f.prototype.descending,f.prototype.top=function(t){return 0>t?this:(e=t,l("$top"),this)},f.prototype.skip=function(t){return 0>t?this:(i=t,l("$skip"),this)},f.prototype.inlineCount=function(t){return p=t===!1||0===t||"none"===t?"none":"allpages",l("$inlinecount"),this},f.prototype.count=f.prototype.inlineCount,f.prototype.select=function(t){return u.push(t),l("$select"),this},f.prototype.filter=function(t){var n=function(){};return n.prototype.equal=function(t,n){return c.push(t+" eq '"+n+"'"),this},n.prototype.and=function(){return c.push("and"),this},n.prototype.next=function(){return l("$filter"),this}.bind(this),t(new n)},f.prototype.expand=function(t){return s.push(t),l("$expand"),this},f.prototype.format=function(t){switch(t.toLowerCase()){case"atom":case"application/atom+xml":a="atom";break;case"xml":case"application/xml":a="xml";break;case"json":case"application/json":a="json";break;default:a="json"}return l("$format"),this},f.prototype.atom=function(){return f.prototype.format.apply(this,["atom"])},f.prototype.json=function(){return f.prototype.format.apply(this,["json"])},f.prototype.xml=function(){return f.prototype.format.apply(this,["xml"])},f.prototype.query=function(){var o,r=y();if(n){o="";for(var e in r)e&&r[e]&&(o+=e+"="+r[e]+"&");o.lastIndexOf("&")===o.length-1&&(o=o.slice(0,o.length-1))}else o={},t.forEach(function(t){o[t]=r[t]});return o};var l=function(n){t.push(n)},y=function(){var t={};return g(t),j(t),x(t),m(t),d(t),$(t),h(t),b(t),t},h=function(t){return o.length<1?t:(t.$orderby=o.join(",")+" "+r,t)},d=function(t){return t.$top=e,t},m=function(t){return t.$skip=i,t},$=function(t){return t.$inlinecount=p,t},g=function(t){return u.length<1?t:(t.$select=u.join(","),t)},j=function(t){return s.length<1?t:(t.$expand=s.join(","),t)},x=function(t){return t.$filter=c.join(" "),t},b=function(t){return t.$format=a,t};return f}();