var OData=function(){"use strict";var t=[],o="",n=[],r="asc",e=0,p=0,u="allpages",i=[],s=[],a=[],c="json",y=function(){};y.prototype.url=function(t){return o=t,this},y.prototype.orderby=function(t){return n.push(t),f("$orderby"),this},y.prototype.ascending=function(){return r="asc",this},y.prototype.asc=y.prototype.ascending,y.prototype.descending=function(){return r="desc",this},y.prototype.desc=y.prototype.descending,y.prototype.top=function(t){return 0>t?this:(e=t,f("$top"),this)},y.prototype.skip=function(t){return 0>t?this:(p=t,f("$skip"),this)},y.prototype.inlineCount=function(t){return u=t===!1||0===t||"none"===t?"none":"allpages",f("$inlinecount"),this},y.prototype.count=y.prototype.inlineCount,y.prototype.select=function(t){return i.push(t),f("$select"),this},y.prototype.filter=function(t){var o=function(){};o.prototype.equal=function(t,o){return n(t,"eq",o),this},o.prototype.eq=o.prototype.equal,o.prototype.notEqual=function(t,o){return n(t,"ne",o),this},o.prototype.ne=o.prototype.notEqual,o.prototype.greaterThan=function(t,o){return n(t,"gt",o),this},o.prototype.gt=o.prototype.greaterThan,o.prototype.greaterThanOrEqual=function(t,o){return n(t,"ge",o),this},o.prototype.ge=o.prototype.greaterThanOrEqual,o.prototype.lessThan=function(t,o){return n(t,"lt",o),this},o.prototype.lt=o.prototype.lessThan,o.prototype.lessThanOrEqual=function(t,o){return n(t,"le",o),this},o.prototype.le=o.prototype.lessThanOrEqual,o.prototype.and=function(){return a.push("and"),this},o.prototype.or=function(){return a.push("or"),this},o.prototype.not=function(){return a.push("not"),this},o.prototype.add=function(t,o){return a.push(e(t,"add",o)),this},o.prototype.subtract=function(t,o){return a.push(e(t,"sub",o)),this},o.prototype.sub=o.prototype.subtract,o.prototype.multiply=function(t,o){return a.push(e(t,"mul",o)),this},o.prototype.mul=o.prototype.multiply,o.prototype.divide=function(t,o){return a.push(e(t,"div",o)),this},o.prototype.div=o.prototype.divide,o.prototype.modulo=function(t,o){return a.push(e(t,"mod",o)),this},o.prototype.mod=o.prototype.modulo,o.prototype.next=function(){return f("$filter"),this}.bind(this);var n=function(t,o,n){a.push(null!==t&&"undefined"==typeof n?e("eq",t):r(t,"eq",n))},r=function(t,o,n){return t+" "+o+" '"+n+"'"},e=function(t,o,n){return t+" "+o+(n?" "+n:"")};return t(new o)},y.prototype.expand=function(t){return s.push(t),f("$expand"),this},y.prototype.format=function(t){switch(t.toLowerCase()){case"atom":case"application/atom+xml":c="atom";break;case"xml":case"application/xml":c="xml";break;case"json":case"application/json":c="json";break;default:c="json"}return f("$format"),this},y.prototype.atom=function(){return y.prototype.format.apply(this,["atom"])},y.prototype.json=function(){return y.prototype.format.apply(this,["json"])},y.prototype.xml=function(){return y.prototype.format.apply(this,["xml"])},y.prototype.query=function(){var n,r=l();if(o){n="";for(var e in r)e&&r[e]&&(n+=e+"="+r[e]+"&");n.lastIndexOf("&")===n.length-1&&(n=n.slice(0,n.length-1))}else n={},t.forEach(function(t){n[t]=r[t]});return n};var f=function(o){t.push(o)},l=function(){var t={};return $(t),q(t),v(t),m(t),d(t),g(t),h(t),b(t),t},h=function(t){return n.length<1?t:(t.$orderby=n.join(",")+" "+r,t)},d=function(t){return t.$top=e,t},m=function(t){return t.$skip=p,t},g=function(t){return t.$inlinecount=u,t},$=function(t){return i.length<1?t:(t.$select=i.join(","),t)},q=function(t){return s.length<1?t:(t.$expand=s.join(","),t)},v=function(t){return t.$filter=a.join(" "),t},b=function(t){return t.$format=c,t};return y}();