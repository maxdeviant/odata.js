var OData=function(){"use strict";var t,o,n,r,e,p,u,i,s,h,c,f=function(){t=[],o="",n=[],r="asc",e=0,p=0,u="allpages",i=[],s=[],h=[],c="json"},y=function(){f()};y.prototype.url=function(t){return o=t,this},y.prototype.orderBy=function(t){return n.push(t),a("$orderby"),this},y.prototype.ascending=function(){return r="asc",this},y.prototype.asc=y.prototype.ascending,y.prototype.descending=function(){return r="desc",this},y.prototype.desc=y.prototype.descending,y.prototype.top=function(t){return 0>t?this:(e=t,a("$top"),this)},y.prototype.skip=function(t){return 0>t?this:(p=t,a("$skip"),this)},y.prototype.inlineCount=function(t){return u=t===!1||0===t||"none"===t?"none":"allpages",a("$inlinecount"),this},y.prototype.count=y.prototype.inlineCount,y.prototype.select=function(t){return i.push(t),a("$select"),this},y.prototype.filter=function(t){var o=function(){};o.prototype.equal=function(t,o){return n(t,"eq",o),this},o.prototype.eq=o.prototype.equal,o.prototype.notEqual=function(t,o){return n(t,"ne",o),this},o.prototype.ne=o.prototype.notEqual,o.prototype.greaterThan=function(t,o){return n(t,"gt",o),this},o.prototype.gt=o.prototype.greaterThan,o.prototype.greaterThanOrEqual=function(t,o){return n(t,"ge",o),this},o.prototype.ge=o.prototype.greaterThanOrEqual,o.prototype.lessThan=function(t,o){return n(t,"lt",o),this},o.prototype.lt=o.prototype.lessThan,o.prototype.lessThanOrEqual=function(t,o){return n(t,"le",o),this},o.prototype.le=o.prototype.lessThanOrEqual,o.prototype.and=function(){return h.push("and"),this},o.prototype.or=function(){return h.push("or"),this},o.prototype.not=function(){return h.push("not"),this},o.prototype.add=function(t,o){return h.push(e(t,"add",o)),this},o.prototype.subtract=function(t,o){return h.push(e(t,"sub",o)),this},o.prototype.sub=o.prototype.subtract,o.prototype.multiply=function(t,o){return h.push(e(t,"mul",o)),this},o.prototype.mul=o.prototype.multiply,o.prototype.divide=function(t,o){return h.push(e(t,"div",o)),this},o.prototype.div=o.prototype.divide,o.prototype.modulo=function(t,o){return h.push(e(t,"mod",o)),this},o.prototype.mod=o.prototype.modulo,o.prototype.substringOf=function(t,o){return h.push("substringof('"+o+"', "+t+")"),this},o.prototype.startsWith=function(t,o){return h.push("startswith("+t+", '"+o+"')"),this},o.prototype.endsWith=function(t,o){return h.push("startswith("+t+", '"+o+"')"),this},o.prototype.length=function(t,o){return h.push("length("+t+")"),this},o.prototype.indexOf=function(t,o){return h.push("indexof("+t+", '"+o+"')"),this},o.prototype.replace=function(t,o,n){return h.push("replace("+t+", '"+o+", '"+n+"')"),this},o.prototype.year=function(t){return h.push("year("+t+")"),this},o.prototype.month=function(t){return h.push("month("+t+")"),this},o.prototype.day=function(t){return h.push("day("+t+")"),this},o.prototype.hour=function(t){return h.push("hour("+t+")"),this},o.prototype.minute=function(t){return h.push("minute("+t+")"),this},o.prototype.second=function(t){return h.push("second("+t+")"),this},o.prototype.round=function(t){return h.push("round("+t+")"),this},o.prototype.floor=function(t){return h.push("floor("+t+")"),this},o.prototype.ceiling=function(t){return h.push("ceiling("+t+")"),this},o.prototype.isOf=function(t,o){return h.push(null!==t&&"undefined"==typeof o?"isof('"+t+"')":"isof("+t+", '"+o+"')"),this},o.prototype.next=function(){return h.length>0&&a("$filter"),this}.bind(this);var n=function(t,o,n){h.push(null!==t&&"undefined"==typeof n?e(o,t):r(t,o,n))},r=function(t,o,n){return t+" "+o+" '"+n+"'"},e=function(t,o,n){return t+" "+o+(n?" "+n:"")};return typeof t!=typeof Function?this:t(new o)},y.prototype.expand=function(t){return s.push(t),a("$expand"),this},y.prototype.format=function(t){switch(t.toLowerCase()){case"atom":case"application/atom+xml":c="atom";break;case"xml":case"application/xml":c="xml";break;case"json":case"application/json":c="json";break;default:c="json"}return a("$format"),this},y.prototype.atom=function(){return y.prototype.format.apply(this,["atom"])},y.prototype.json=function(){return y.prototype.format.apply(this,["json"])},y.prototype.xml=function(){return y.prototype.format.apply(this,["xml"])},y.prototype.query=function(){var n,r=l();if(o){n="";for(var e in r)e&&r[e]&&(n+=e+"="+r[e]+"&");n.lastIndexOf("&")===n.length-1&&(n=n.slice(0,n.length-1))}else n={},t.forEach(function(t){n[t]=r[t]});return f(),n};var a=function(o){t.push(o)},l=function(){var t={};return x(t),b(t),v(t),g(t),m(t),$(t),d(t),j(t),t},d=function(t){return n.length<1?t:(t.$orderby=n.join(",")+" "+r,t)},m=function(t){return t.$top=e,t},g=function(t){return t.$skip=p,t},$=function(t){return t.$inlinecount=u,t},x=function(t){return i.length<1?t:(t.$select=i.join(","),t)},b=function(t){return s.length<1?t:(t.$expand=s.join(","),t)},v=function(t){return t.$filter=h.join(" "),t},j=function(t){return t.$format=c,t};return y}();